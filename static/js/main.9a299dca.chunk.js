(this["webpackJsonpreact-single-app-dialog"]=this["webpackJsonpreact-single-app-dialog"]||[]).push([[0],{69:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var o=n(2),c=n(0),i=n(11),r=n.n(i),a=n(8),l=Object(c.createContext)();function s(t){var e=t.children,n=Object(c.useState)(!1),i=Object(a.a)(n,2),r=i[0],s=i[1],u=Object(c.useState)({}),j=Object(a.a)(u,2),d=j[0],p=j[1],x={isAppDialogOpen:r,appDialogContext:d,updateAppDialog:p,openAppDialog:function(t){p(t),s(!0)},closeAppDialog:function(){s(!1)}};return Object(o.jsx)(l.Provider,{value:x,children:e})}var u=n(111),j=n(101),d=n(102),p=n(103),x=n(104),h=n(109);var O=function(){var t=Object(c.useContext)(b),e=Object(c.useState)(!1),n=Object(a.a)(e,2),i=n[0],r=n[1],l=Object(c.useState)({}),s=Object(a.a)(l,2),O=s[0],g=s[1];t.isOpen=i,t.openAppDialog=function(t){g(t),r(!0)},t.closeAppDialog=function(){return r(!1)},t.updateAppDialog=function(t){return g(t)};var m=O.title,f=O.content,v=O.contentBlock,C=O.onOk,y=O.onClose;return Object(o.jsxs)(u.a,{open:i,onClose:y,children:[Object(o.jsx)(j.a,{children:m}),Object(o.jsxs)(d.a,{children:[Object(o.jsx)(p.a,{children:f}),v]}),Object(o.jsxs)(x.a,{children:[Object(o.jsx)(h.a,{onClick:y,color:"primary",variant:"outlined",children:"Cancel"}),Object(o.jsx)(h.a,{onClick:C,color:"primary",variant:"outlined",children:"OK"})]})]})},b=Object(c.createContext)();function g(t){var e=t.children,n=Object(c.useRef)({});return Object(o.jsxs)(b.Provider,{value:n.current,children:[Object(o.jsx)(O,{}),e]})}var m=function(t){var e=t.dialogContext,n=e.isOpen,c=e.onClose,i=e.title,r=e.content,a=e.contentBlock,l=e.onOk;return Object(o.jsxs)(u.a,{open:n,onClose:c,children:[Object(o.jsx)(j.a,{children:i}),Object(o.jsxs)(d.a,{children:[Object(o.jsx)(p.a,{children:r}),a]}),Object(o.jsxs)(x.a,{children:[Object(o.jsx)(h.a,{onClick:c,color:"primary",variant:"outlined",children:"Cancel"}),Object(o.jsx)(h.a,{onClick:l,color:"primary",variant:"outlined",children:"OK"})]})]})},f=n(108);var v=n(105),C=n(106),y=n(107),D=n(55);var k=function(){var t=Object(c.useState)(),e=Object(a.a)(t,2),n=e[0],i=e[1],r=function(t){var e=Object(c.useState)(!1),n=Object(a.a)(e,2),i=n[0],r=n[1],l=function(){return r(!1)},s={title:"Dialog with template",content:"Static text works correctly.",isOpen:i,onOk:function(){t("Static text dialog okay"),l()},onClose:l};return{Dialog:Object(o.jsx)(m,{dialogContext:s}),open:function(){return r(!0)}}}(i),l=function(t){var e=Object(c.useState)(!1),n=Object(a.a)(e,2),i=n[0],r=n[1],l=Object(c.useState)(),s=Object(a.a)(l,2),u=s[0],j=s[1],d=function(){return r(!1)},p={title:"Dialog with template",content:'Dynamic text works correctly: "'.concat(u,'"'),isOpen:i,onOk:function(){t("Dynamic text dialog okay"),d()},onClose:d};return{Dialog:Object(o.jsx)(m,{dialogContext:p}),open:function(t){j(t),r(!0)}}}(i),s=function(t){var e=Object(c.useState)(!1),n=Object(a.a)(e,2),i=n[0],r=n[1],l=Object(c.useState)(""),s=Object(a.a)(l,2),u=s[0],j=s[1],d=function(){return r(!1)},p={title:"Dialog with template",content:"Forms work correctly.",contentBlock:Object(o.jsx)(f.a,{autoFocus:!0,id:"name",label:"Enter text",type:"text",variant:"outlined",fullWidth:!0,onChange:function(t){j(t.target.value)},value:u}),isOpen:i,onOk:function(){t(u),d()},onClose:d};return{Dialog:Object(o.jsx)(m,{dialogContext:p}),open:function(){return r(!0)}}}(i);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(v.a,{children:[Object(o.jsxs)(C.a,{children:[Object(o.jsx)(D.a,{variant:"h4",component:"h2",gutterBottom:!0,children:"Dialogs with template component - No Context API"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Dialogs created with a template component."," ",Object(o.jsx)("strong",{children:"Every dialog is a different component that has to be rendered."})," If there are 20 dialogs in the application, 20 components that are almost identical are rendered."]}),Object(o.jsx)(D.a,{gutterBottom:!0,children:"There's no need for Context API."}),Object(o.jsx)(D.a,{gutterBottom:!0,children:Object(o.jsx)("strong",{children:"Static text, dynamic text and forms work correctly."})})]}),Object(o.jsxs)(y.a,{children:[Object(o.jsx)(h.a,{onClick:r.open,color:"primary",variant:"outlined",children:"Static text"}),Object(o.jsx)(h.a,{onClick:function(){return l.open("dynamic text")},color:"primary",variant:"outlined",children:"Dynamic text"}),Object(o.jsx)(h.a,{onClick:s.open,color:"primary",variant:"outlined",children:"Form"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Result of dialog: ",n]})]})]}),r.Dialog,l.Dialog,s.Dialog]})};var w=function(){var t=Object(c.useState)(),e=Object(a.a)(t,2),n=e[0],i=e[1],r=function(t){var e=Object(c.useContext)(l),n=function(){return e.closeAppDialog()},o={title:"Dialog with single component",content:"Static text works correctly.",onOk:function(){t("Static text dialog okay"),n()},onClose:n};return{open:function(){return e.openAppDialog(o)}}}(i),s=function(t){var e=Object(c.useContext)(l),n=Object(c.useState)(),o=Object(a.a)(n,2),i=o[0],r=o[1],s=function(){return e.closeAppDialog()},u={title:"Dialog with single component",content:"Dynamic text doesn't work: \"".concat(i,'"'),onOk:function(){t("Dynamic text dialog okay"),s()},onClose:s};return{open:function(t){r(t),e.openAppDialog(u)}}}(i),u=function(t){var e=Object(c.useContext)(l),n=Object(c.useState)(""),i=Object(a.a)(n,2),r=i[0],s=i[1],u=function(){return e.closeAppDialog()},j={title:"Dialog with single component",content:"Forms don't work.",contentBlock:Object(o.jsx)(f.a,{autoFocus:!0,id:"name",label:"Enter text",type:"text",variant:"outlined",fullWidth:!0,onChange:function(t){s(t.target.value)},value:r}),onOk:function(){t(r),u()},onClose:u};return{open:function(){return e.openAppDialog(j)}}}(i);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(v.a,{children:[Object(o.jsxs)(C.a,{children:[Object(o.jsx)(D.a,{variant:"h4",component:"h2",gutterBottom:!0,children:"Dialogs with single component - Context API - Error"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Dialogs created with a single component for all the application."," ",Object(o.jsx)("strong",{children:"There is only one dialog component rendered"})," in the application and it's configured every time a dialog is needed."]}),Object(o.jsx)(D.a,{gutterBottom:!0,children:"It's configured with Context API. The structure of the code is the same as with templates, except for the Context API."}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Static text works correctly."," ",Object(o.jsx)("strong",{children:"Dynamic text and forms don't work. Context API doesn't react to changes."})]})]}),Object(o.jsxs)(y.a,{children:[Object(o.jsx)(h.a,{onClick:r.open,color:"primary",variant:"outlined",children:"Static text"}),Object(o.jsx)(h.a,{onClick:function(){return s.open("dynamic text")},color:"primary",variant:"outlined",children:"Dynamic text"}),Object(o.jsx)(h.a,{onClick:u.open,color:"primary",variant:"outlined",children:"Form"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Result of dialog: ",n]})]})]})})};function A(t,e){var n=Object(c.useRef)(!0);Object(c.useEffect)((function(){n.current?n.current=!1:t()}),e)}var S=function(){var t=Object(c.useState)(),e=Object(a.a)(t,2),n=e[0],i=e[1],r=function(t){var e=Object(c.useContext)(l),n=function(){return e.closeAppDialog()},o={title:"Dialog with single component",content:"Static text works correctly.",onOk:function(){t("Static text dialog okay"),n()},onClose:n};return{open:function(){return e.openAppDialog(o)}}}(i),s=function(t){var e=Object(c.useContext)(l),n=Object(c.useState)(),o=Object(a.a)(n,2),i=o[0],r=o[1];A((function(){e.updateAppDialog(u)}),[i]);var s=function(){return e.closeAppDialog()},u={title:"Dialog with single component",content:'Dynamic text works correctly: "'.concat(i,'"'),onOk:function(){t("Dynamic text dialog okay"),s()},onClose:s};return{open:function(t){r(t),e.openAppDialog(u)}}}(i),u=function(t){var e=Object(c.useContext)(l),n=Object(c.useState)(""),i=Object(a.a)(n,2),r=i[0],s=i[1];A((function(){e.updateAppDialog(j)}),[r]);var u=function(){return e.closeAppDialog()},j={title:"Dialog with single component",content:"Forms work correctly.",contentBlock:Object(o.jsx)(f.a,{autoFocus:!0,id:"name",label:"Enter text",type:"text",variant:"outlined",fullWidth:!0,onChange:function(t){s(t.target.value)},value:r}),onOk:function(){t(r),u()},onClose:u};return{open:function(){return e.openAppDialog(j)}}}(i);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(v.a,{children:[Object(o.jsxs)(C.a,{children:[Object(o.jsx)(D.a,{variant:"h4",component:"h2",gutterBottom:!0,children:"Dialogs with single component - Context API - Fixed"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Dialogs created with a single component for all the application."," ",Object(o.jsx)("strong",{children:"There is only one dialog component rendered"})," in the application and it's configured every time a dialog is needed."]}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["It's configured with Context API. The structure of the code is almost the same as on the previous example, but"," ",Object(o.jsx)("strong",{children:"to fix the Context API no reacting to changes, the context is set manually on every data change with useEffect()."})]}),Object(o.jsx)(D.a,{gutterBottom:!0,children:Object(o.jsx)("strong",{children:"Static text, dynamic text and forms work correctly."})})]}),Object(o.jsxs)(y.a,{children:[Object(o.jsx)(h.a,{onClick:r.open,color:"primary",variant:"outlined",children:"Static text"}),Object(o.jsx)(h.a,{onClick:function(){return s.open("dynamic text")},color:"primary",variant:"outlined",children:"Dynamic text"}),Object(o.jsx)(h.a,{onClick:u.open,color:"primary",variant:"outlined",children:"Form"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Result of dialog: ",n]})]})]})})};var B=function(){var t=Object(c.useState)(),e=Object(a.a)(t,2),n=e[0],i=e[1],r=function(t){var e=Object(c.useContext)(b),n=function(){return e.closeAppDialog()},o={title:"Dialog with single component - No Context Re-render",content:"Static text works correctly.",onOk:function(){t("Static text dialog okay"),n()},onClose:n};return{open:function(){return e.openAppDialog(o)}}}(i),l=function(t){var e=Object(c.useContext)(b),n=Object(c.useState)(),o=Object(a.a)(n,2),i=o[0],r=o[1];A((function(){e.updateAppDialog(s)}),[i]);var l=function(){return e.closeAppDialog()},s={title:"Dialog with single component - No Context Re-render",content:'Dynamic text works correctly: "'.concat(i,'"'),onOk:function(){t("Dynamic text dialog okay"),l()},onClose:l};return{open:function(t){r(t),e.openAppDialog(s)}}}(i),s=function(t){var e=Object(c.useContext)(b),n=Object(c.useState)(""),i=Object(a.a)(n,2),r=i[0],l=i[1];A((function(){e.updateAppDialog(u)}),[r]);var s=function(){return e.closeAppDialog()},u={title:"Dialog with single component - No Context Re-render",content:"Forms work correctly.",contentBlock:Object(o.jsx)(f.a,{autoFocus:!0,id:"name",label:"Enter text",type:"text",variant:"outlined",fullWidth:!0,onChange:function(t){l(t.target.value)},value:r}),onOk:function(){t(r),s()},onClose:s};return{open:function(){return e.openAppDialog(u)}}}(i);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(v.a,{children:[Object(o.jsxs)(C.a,{children:[Object(o.jsx)(D.a,{variant:"h4",component:"h2",gutterBottom:!0,children:"Dialogs with single component - Context API - No Context Re-render"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Dialogs created with a single component for all the application."," ",Object(o.jsx)("strong",{children:"There is only one dialog component rendered"})," in the application and it's configured every time a dialog is needed."]}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["It's configured with Context API. The main structure of the code is similar as on the previous example, but"," ",Object(o.jsx)("strong",{children:"the application dialog state has been moved from the context file to the dialog component."})," ","The context file only contains a reference to the application dialog with useRef(), so that"," ",Object(o.jsx)("strong",{children:"it doesn't re-render when a dialog is changed, and neither the components that consume it."})]}),Object(o.jsx)(D.a,{gutterBottom:!0,children:Object(o.jsx)("strong",{children:"Static text, dynamic text and forms work correctly."})})]}),Object(o.jsxs)(y.a,{children:[Object(o.jsx)(h.a,{onClick:r.open,color:"primary",variant:"outlined",children:"Static text"}),Object(o.jsx)(h.a,{onClick:function(){return l.open("dynamic text")},color:"primary",variant:"outlined",children:"Dynamic text"}),Object(o.jsx)(h.a,{onClick:s.open,color:"primary",variant:"outlined",children:"Form"}),Object(o.jsxs)(D.a,{gutterBottom:!0,children:["Result of dialog: ",n]})]})]})})};var F=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("header",{children:Object(o.jsx)(D.a,{variant:"h3",component:"h1",align:"center",gutterBottom:!0,children:"Single app dialog with Context API"})}),Object(o.jsxs)("main",{children:[Object(o.jsx)(k,{}),Object(o.jsx)(w,{}),Object(o.jsx)(S,{}),Object(o.jsx)(B,{})]})]})};var I=function(){var t=Object(c.useContext)(l),e=t.appDialogContext,n=e.title,i=e.content,r=e.contentBlock,a=e.onOk,s=e.onClose;return Object(o.jsxs)(u.a,{open:t.isAppDialogOpen,onClose:s,children:[Object(o.jsx)(j.a,{children:n}),Object(o.jsxs)(d.a,{children:[Object(o.jsx)(p.a,{children:i}),r]}),Object(o.jsxs)(x.a,{children:[Object(o.jsx)(h.a,{onClick:s,color:"primary",variant:"outlined",children:"Cancel"}),Object(o.jsx)(h.a,{onClick:a,color:"primary",variant:"outlined",children:"OK"})]})]})};n(69);var P=function(){return Object(o.jsx)(g,{children:Object(o.jsxs)(s,{children:[Object(o.jsx)(F,{}),Object(o.jsx)(I,{})]})})};r.a.render(Object(o.jsx)(P,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.9a299dca.chunk.js.map